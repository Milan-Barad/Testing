<style>
        .tab-container {
            max-width: 600px;
            margin: 20px auto;
            border: 1px solid #ccc;
        }
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid #ccc;
        }
        .tab-button {
            flex: 1;
            padding: 10px;
            cursor: pointer;
            background: #f4f4f4;
            border: none;
            outline: none;
        }
        .tab-button:hover {
            background: #ddd;
        }
        .tab-content {
            display: none;
            padding: 20px;
        }
        .tab-content.active {
            display: block;
        }
        .accordion {
            width: 100%;
            margin: 10px 0;
        }
        .accordion-item {
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }
        .accordion-header {
            padding: 10px;
            cursor: pointer;
            background: #f4f4f4;
        }
        .accordion-header:hover {
            background: #ddd;
        }
        .accordion-panel {
            padding: 10px;
            display: none;
        }
        .accordion-panel.active {
            display: block;
        }
    </style>

<div class="tab-container">
        <div class="tab-buttons">
            <button class="tab-button" onclick="openTab('Cartridges')">Cartridges</button>
            <button class="tab-button" onclick="openTab('Disposables')">Disposables</button>
            <button class="tab-button" onclick="openTab('Edibles')">Edibles</button>
            <button class="tab-button" onclick="openTab('Flower')">Flower</button>
        </div>

        <div id="Cartridges" class="tab-content">
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('adiosBlend')">Adios Blend: THCA + Delta-9P Live Resin</div>
                    <div id="adiosBlend" class="accordion-panel">
                        Details about Adios Blend: THCA + Delta-9P Live Resin
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('adiosMF')">Adios MF Blend: THCA Live Sugar</div>
                    <div id="adiosMF" class="accordion-panel">
                        Details about Adios MF Blend: THCA Live Sugar
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('wreckdSeries')">Wreck'd Series: THCA + THCP + THCJD</div>
                    <div id="wreckdSeries" class="accordion-panel">
                        Details about Wreck'd Series: THCA + THCP + THCJD
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('lightsOut')">Lights Out Collection: THCH + THCJD</div>
                    <div id="lightsOut" class="accordion-panel">
                        Details about Lights Out Collection: THCH + THCJD
                    </div>
                </div>
            </div>
        </div>

        <div id="Disposables" class="tab-content" style="display:none;">
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('disposable1')">Disposable 1: THCA Disposable</div>
                    <div id="disposable1" class="accordion-panel">
                        Details about Disposable 1: THCA Disposable
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('disposable2')">Disposable 2: THCP Disposable</div>
                    <div id="disposable2" class="accordion-panel">
                        Details about Disposable 2: THCP Disposable
                    </div>
                </div>
            </div>
        </div>

        <div id="Edibles" class="tab-content" style="display:none;">
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('edible1')">Edible 1: THCA Gummies</div>
                    <div id="edible1" class="accordion-panel">
                        Details about Edible 1: THCA Gummies
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion('edible2')">Edible 2: THCP Chocolates</div>
                    <div id="edible2" class="accordion-panel">
                        Details about Edible 2: THCP Chocolates
                    </div>
                </div>
            </div>
        </div>

        <div id="Flower" class="tab-content" style="display:none;">
            <!-- Add Flower content here -->
        </div>
    </div>

<script>
        function openTab(tabName) {
            var i, tabContent, tabButtons;
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].style.display = "none";
            }
            tabButtons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabButtons.length; i++) {
                tabButtons[i].className = tabButtons[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            event.currentTarget.className += " active";
        }

        function toggleAccordion(panelId) {
            var panel = document.getElementById(panelId);
            if (panel.className.indexOf("active") == -1) {
                panel.className += " active";
            } else {
                panel.className = panel.className.replace(" active", "");
            }
        }

        // Open first tab by default
        document.getElementsByClassName("tab-button")[0].click();
    </script>

{% comment %} Schema for the section {% endcomment %}
{% schema %}
{
  "name": "Dynamic Tabs ",
  "settings": [],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab",
      "settings": [
        {
          "type": "text",
          "id": "tab_title",
          "label": "Tab Title",
          "default": "Tab"
        }
      ]
    },
    {
      "type": "accordion",
      "name": "Accordion Item",
      "settings": [
        {
          "type": "text",
          "id": "accordion_title",
          "label": "Accordion Title",
          "default": "Accordion Item"
        },
        {
          "type": "richtext",
          "id": "accordion_content",
          "label": "Accordion Content",
          "default": "<p>Details about accordion item.</p>"
        },
        {
          "type": "select",
          "id": "tab_id",
          "label": "Associated Tab",
          "options": [
            {
              "value": "",
              "label": "Select a tab"
            }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Dynamic Tabs ",
      "blocks": [
        {
          "type": "tab",
          "settings": {
            "tab_title": "Cartridges"
          }
        },
        {
          "type": "accordion",
          "settings": {
            "accordion_title": "Adios Blend: THCA + Delta-9P Live Resin",
            "accordion_content": "<p>Details about Adios Blend: THCA + Delta-9P Live Resin</p>",
            "tab_id": "{{ section.blocks[0].id }}"
          }
        },
        {
          "type": "accordion",
          "settings": {
            "accordion_title": "Adios MF Blend: THCA Live Sugar",
            "accordion_content": "<p>Details about Adios MF Blend: THCA Live Sugar</p>",
            "tab_id": "{{ section.blocks[0].id }}"
          }
        },
        {
          "type": "accordion",
          "settings": {
            "accordion_title": "Wreck'd Series: THCA + THCP + THCJD",
            "accordion_content": "<p>Details about Wreck'd Series: THCA + THCP + THCJD</p>",
            "tab_id": "{{ section.blocks[0].id }}"
          }
        },
        {
          "type": "accordion",
          "settings": {
            "accordion_title": "Lights Out Collection: THCH + THCJD",
            "accordion_content": "<p>Details about Lights Out Collection: THCH + THCJD</p>",
            "tab_id": "{{ section.blocks[0].id }}"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Disposables"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Edibles"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Flower"
          }
        }
      ]
    }
  ]
}
{% endschema %}