{% stylesheet %}
.demo-section {
  padding: 2rem;
  background: #f5f5f5;
  border: 1px solid #ccc;
  margin: 2rem 0;
}
.demo-section h2 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
}
.demo-section img {
  max-width: 100%;
  height: auto;
}
{% endstylesheet %}

<div class="demo-section">
  <h2>{{ section.settings.heading }}</h2>

  {% if section.settings.show_image and section.settings.image != blank %}
    <img src="{{ section.settings.image | image_url: width: 800 }}" alt="Selected Image" loading="la">
  {% endif %}

  {% if section.settings.show_image and section.settings.custom_text != blank %}
    <p><strong>Custom Text:</strong> {{ section.settings.custom_text }}</p>
  {% endif %}
</div>

{% schema %}
{
  "name": "Demo Visible If",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "This is a demo section"
    },
    {
      "type": "checkbox",
      "id": "show_image",
      "label": "Show Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Select Image",
      "visible_if": "{{ section.settings.show_image == true }}"
    },
    {
      "type": "text",
      "id": "custom_text",
      "label": "Custom Text",
      "default": "Visible when image is shown",
      "visible_if": "{{ section.settings.show_image == true }}"
    }
  ],
  "presets": [
    {
      "name": "Demo Visible If"
    }
  ]
}
{% endschema %}